tags:
  - name: Styles
    description: 스타일 갤러리 관리 API

paths:
  /styles:
    post:
      summary: 새로운 스타일 생성
      tags:
        - Styles
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - nickname
                - title
                - content
                - password
                - categories
                - tags
                - imageUrls
              properties:
                nickname:
                  type: string
                  description: 작성자 닉네임
                title:
                  type: string
                  description: 스타일 제목
                content:
                  type: string
                  description: 스타일 상세 설명
                password:
                  type: string
                  description: 수정을 위한 비밀번호
                categories:
                  type: array
                  description: 스타일 카테고리 목록
                  items:
                    type: string
                tags:
                  type: array
                  description: 해시태그 목록
                  items:
                    type: string
                imageUrls:
                  type: array
                  description: 이미지 URL 목록
                  items:
                    type: string
      responses:
        "201":
          description: 스타일 등록 성공
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: integer
                    example: 1
                  nickname:
                    type: string
                    example: "스타일러"
                  title:
                    type: string
                    example: "오늘의 데일리룩"
                  content:
                    type: string
                  password:
                    type: string
                    example: 12345Aa!
                  categories:
                    type: object
                    properties:
                      top:
                        type: object
                        properties:
                          name: { type: string, example: "니트" }
                          brand: { type: string, example: "무신사" }
                          price: { type: integer, example: 35000 }
                      bottom:
                        type: object
                        properties:
                          name: { type: string, example: "슬랙스" }
                          brand: { type: string, example: "보세" }
                          price: { type: integer, example: 28000 }
                  tags:
                    type: array
                    items:
                      type: string
                    example: ["데일리룩", "미니멀"]
                  imageUrls:
                    type: array
                    items:
                      type: string
                    example: ["https://image1.png", "https://image2.png"]
        "400":
          description: 유효성 검사 실패

    get:
      summary: 스타일 갤러리 목록 조회 (페이지네이션)
      tags:
        - Styles
      parameters:
        - in: query
          name: page
          schema:
            type: integer
            default: 1
          description: 페이지 번호
        - in: query
          name: limit
          schema:
            type: integer
            default: 16
            maximum: 30
          description: 한 페이지당 아이템 수
        - in: query
          name: sortBy
          schema:
            type: string
            enum:
              - latest
              - mostViewed
              - mostCurated
            default: latest
          description: 정렬 기준
        - in: query
          name: searchBy
          schema:
            type: string
            enum:
              - nickname
              - title
              - content
              - tag
          description: 검색 필드
        - in: query
          name: keyword
          schema:
            type: string
          description: 검색어
        - in: query
          name: tag
          schema:
            type: string
          description: 태그 필터링
        - in: query
          name: cursor
          schema:
            type: string
          description: 커서 기반 페이지네이션을 위한 커서값
      responses:
        "200":
          description: 갤러리 목록 조회 성공
          content:
            application/json:
              schema:
                type: object
                properties:
                  currentPage: { type: integer }
                  totalPages: { type: integer }
                  totalItemCount: { type: integer }
                  data:
                    type: array
                    items:
                      type: object
                      properties:
                        id: { type: string }
                        thumbnail: { type: string }
                        nickname: { type: string }
                        title: { type: string }
                        content: { type: string }
                        viewCount: { type: integer }
                        curationCount: { type: integer }
                        createAt: { type: string, format: date-time }
                        categories:
                          type: object
                          properties:
                            top: { type: object, properties: { name: {type: string}, brand: {type: string}, price: {type: integer} } }
                            bottom: { type: object, properties: { name: {type: string}, brand: {type: string}, price: {type: integer} } }
                            outer: { type: object, properties: { name: {type: string}, brand: {type: string}, price: {type: integer} } }
                            shoes: { type: object, properties: { name: {type: string}, brand: {type: string}, price: {type: integer} } }
                            bag: { type: object, properties: { name: {type: string}, brand: {type: string}, price: {type: integer} } }
                            accessory: { type: object, properties: { name: {type: string}, brand: {type: string}, price: {type: integer} } }
                        tags:
                          type: array
                          items: { type: string }
                cursor:
                  type: object
                  properties:
                    hasNextPage: { type: boolean }
                    nextCursor: { type: string, nullable: true }
              example:
                currentPage: 1
                totalPages: 13
                totalItemCount: 25
                data:
                  - id: "30"
                    thumbnail: "https://dummyimage.com"
                    nickname: "streetboy_92"
                    title: "1111겨울 감성 스트릿핏 완성 더미데이zzzzz터"
                    content: "도쿄 여행 중 편하게 돌아다닌 데일리룩입니다..."
                    viewCount: 0
                    curationCount: 0
                    createAt: "2025-12-18T01:18:05.288Z"
                    categories:
                      top: { name: "워싱 로고 후디1", brand: "Stussy", price: 98000 }
                      bottom: { name: "와이드 데님 팬츠2", brand: "Levis", price: 129000 }
                      outer: { name: "리버시블 플리스 재킷", brand: "The North Face", price: 219000 }
                      shoes: { name: "990v6 그레이", brand: "New Balance", price: 289000 }
                      bag: { name: "크로스바디 메신저백", brand: "PORTER", price: 189000 }
                      accessory: { name: "비니", brand: "Carhartt WIP", price: 39000 }
                    tags: ["스트릿패션", "데일리룩"]
                cursor:
                  hasNextPage: true
                  nextCursor: "eyJkYXRhIjp7ImlkIjoiMjkiLCJjcmVhdGVkX2F0IjoiMjAyNS0xMi0xOFQwMToxNzo1Mi4xMTVaIn0sInNvcnQiOltbImNyZWF0ZWRfYXQiLCJkZXNjIl0sWyJpZCIsImRlc2MiXV19"
        "400":
          description: 잘못된 요청입니다
  /styles/{styleId}:
    get:
      summary: 특정 스타일 상세 정보 조회
      tags:
        - Styles
      parameters:
        - in: path
          name: styleId
          required: true
          schema:
            type: string
          description: 스타일 고유 ID
        - in: query
          name: cursor
          schema:
            type: string
          description: 추가 데이터를 위한 커서
        - in: query
          name: limit
          schema:
            type: integer
          description: 관련 데이터 조회 제한 수
      responses:
        "200":
          description: 상세 정보 조회 성공
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: object
                    properties:
                      id: { type: string }
                      nickname: { type: string }
                      title: { type: string }
                      content: { type: string }
                      viewCount: { type: integer }
                      curationCount: { type: integer }
                      categories:
                        type: object
                        properties:
                          top: { type: object, properties: { name: {type: string}, brand: {type: string}, price: {type: integer} } }
                          bottom: { type: object, properties: { name: {type: string}, brand: {type: string}, price: {type: integer} } }
                          outer: { type: object, properties: { name: {type: string}, brand: {type: string}, price: {type: integer} } }
                          shoes: { type: object, properties: { name: {type: string}, brand: {type: string}, price: {type: integer} } }
                          bag: { type: object, properties: { name: {type: string}, brand: {type: string}, price: {type: integer} } }
                          accessory: { type: object, properties: { name: {type: string}, brand: {type: string}, price: {type: integer} } }
                      tags:
                        type: array
                        items: { type: string }
                      imageUrls:
                        type: array
                        items: { type: string }
                      curations:
                        type: array
                        items:
                          type: object
                          properties:
                            id: { type: string }
                            nickname: { type: string }
                            content: { type: string }
                            trendy: { type: integer }
                            personality: { type: integer }
                            practicality: { type: integer }
                            costEffectiveness: { type: integer }
                            createAt: { type: string, format: date-time }
                            reply:
                              nullable: true
                              type: object
                              properties:
                                id: { type: string }
                                content: { type: string }
                                createdAt: { type: string }
                  lastElemCursor: { type: string, nullable: true }
                  hasNext: { type: boolean, example: false }
              example:
                data:
                  id: "21"
                  nickname: "스트릿몬"
                  title: "1111겨울 감성 스트릿핏 완성 더미데이zzzzz터"
                  content: "asdfasdf확인용 도쿄 여행 중 편하게 돌아다닌 데일리룩입니다..."
                  viewCount: 0
                  curationCount: 2
                  categories:
                    top: { name: "워싱 로고 후디1", brand: "Stussy", price: 98000 }
                    bottom: { name: "와이드 데님 팬츠2", brand: "Levis", price: 129000 }
                    outer: { name: "리버시블 플리스 재킷", brand: "The North Face", price: 219000 }
                    shoes: { name: "990v6 그레이", brand: "New Balance", price: 289000 }
                    bag: { name: "크로스바디 메신저백", brand: "PORTER", price: 189000 }
                    accessory: { name: "비니", brand: "Carhartt WIP", price: 39000 }
                  tags: ["스트릿패션", "데일리룩"]
                  imageUrls: ["https://dummyimage.com/look1", "https://dummyimage.com/look2"]
                  curations:
                    - id: "73"
                      styleId: "21"
                      nickname: "뷰어1"
                      content: "트렌디한 느낌이 살아있네요!ㅋㅋㅋ"
                      trendy: 9
                      personality: 7
                      practicality: 8
                      costEffectiveness: 5
                      createAt: "2025-12-16T00:42:54.066Z"
                      updateAt: "2025-12-16T00:42:54.066Z"
                      reply:
                        id: "11"
                        content: "스타일 작성자의 답글입니다. 감사합니다."
                        createdAt: "2025-12-16T00:42:54.161Z"
                lastElemCursor: null
                hasNext: false
        "404":
          description: 존재하지 않습니다

    put:
      summary: 스타일 정보 수정
      tags:
        - Styles
      parameters:
        - in: path
          name: styleId
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                title:
                  type: string
                content:
                  type: string
                password:
                  type: string
                  description: 본인 확인용 비밀번호
                categories:
                  type: array
                  items:
                    type: string
                tags:
                  type: array
                  items:
                    type: string
                imageUrls:
                  type: array
                  items:
                    type: string
      responses:
        "200":
          description: 스타일 수정 성공
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: integer
                    example: 1
                  nickname:
                    type: string
                    example: "스타일러"
                  title:
                    type: string
                    example: "수정된 데일리룩 제목"
                  content:
                    type: string
                    example: "내용을 좀 더 자세하게 수정했습니다."
                  viewCount:
                    type: integer
                    example: 150
                  curationCount:
                    type: integer
                    example: 5
                  createdAt:
                    type: string
                    format: date-time
                    example: "2024-02-22T07:47:49.803Z"
                  categories:
                    type: object
                    properties:
                      top:
                        type: object
                        properties:
                          name: { type: string, example: "니트" }
                          brand: { type: string, example: "무신사" }
                          price: { type: integer, example: 35000 }
                      bottom:
                        type: object
                        properties:
                          name: { type: string, example: "슬랙스" }
                          brand: { type: string, example: "보세" }
                          price: { type: integer, example: 28000 }
                  tags:
                    type: array
                    items:
                      type: string
                    example: ["데일리룩", "수정완료"]
                  imageUrls:
                    type: array
                    items:
                      type: string
                    example: ["https://image1.png", "https://image2.png"]
        "400":
          description: 잘못된 요청입니다
        "403":
          description: 비밀번호가 틀렸습니다
        "404":
          description: 존재하지 않습니다

    delete:
      summary: 스타일 삭제
      tags:
        - Styles
      parameters:
        - in: path
          name: styleId
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - password
              properties:
                password:
                  type: string
                  description: 삭제 확인용 비밀번호
      responses:
        "200":
          description: 스타일 삭제 성공
        "400":
          description: 잘못된 요청입니다
        "403":
          description: 비밀번호가 틀렸습니다
        "404":
          description: 존재하지 않습니다
